<div class="review-container">
  <div class="review-header">
    <h2>{{ data.title }}</h2>
    <div class="stepper-controls">
      <button mat-icon-button (click)="prev()" [disabled]="currentIndex() === 0">
        <mat-icon>chevron_left</mat-icon>
      </button>
      <span class="progress-text">
        Record <strong>{{ currentIndex() + 1 }}</strong> of {{ allMinedCells().length }}
      </span>
      <button mat-icon-button (click)="next()">
        <mat-icon>{{ currentIndex() === allMinedCells().length - 1 ? 'check' : 'chevron_right' }}</mat-icon>
      </button>
    </div>
  </div>

  <mat-dialog-content>
    <app-mined-cell-editor 
      [cell]="currentCell()"
      [toExclude]="termsToExclude()"
      (excludeTerm)="handleExcludeTerm($event)"
      (excludeAll)="handleExcludeAll()"
      (cellChange)="handleCellChange($event)">
    </app-mined-cell-editor>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button mat-button (click)="onCancel()">Cancel</button>
    <button mat-raised-button color="primary" (click)="next()">
      {{ currentIndex() === allMinedCells().length - 1 ? 'Finish & Save' : 'Next Record' }}
    </button>
  </mat-dialog-actions>
</div>