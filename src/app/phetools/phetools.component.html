<div class="p-6 space-y-6 bg-gray-50 min-h-screen">
  <!-- Title -->
  <h2 class="text-xl font-semibold text-gray-800">Phetools Template</h2>

  <!-- Status row -->
  <div class="text-sm text-gray-700">
    <span>Show Column Table: <strong>{{ showColTable }}</strong></span> |
    <span>Show Main Table: <strong>{{ showMainTable }}</strong></span>
  </div>

  <!-- Error banner -->
  <div *ngIf="errorMessage" class="p-3 bg-red-100 border border-red-400 text-red-700 rounded">
    {{ errorMessage }}
  </div>

  <!-- No data -->
  <div *ngIf="!tableData.length" class="text-gray-500 italic">No data loaded</div>

  <!-- Summary -->
  <div *ngIf="summary['disease']" class="bg-white p-4 border rounded shadow text-gray-700 text-sm leading-relaxed">
    The dataset includes
    <strong>{{ summary['n_ppkt'] }}</strong> phenopackets annotated with
    <strong>{{ summary['hpo_term_count'] }}</strong> HPO terms for
    <strong>{{ summary['disease'] }}</strong> ({{ summary['disease_id'] }}) associated with gene
    <strong>{{ summary['gene_symbol'] }}</strong> (HGNC:{{ summary['hgnc_id'] }}),
    transcript <strong>{{ summary['transcript'] }}</strong>.
  </div>

  <!-- Main table -->
 <div *ngIf="showMainTable" (click)="hideContextMenu()" class="table-container">
  <div class="scroll-wrapper">
    <!-- we show one of three table types main, row, and column-->
     <!-- 1) main table -->
    <table  class="ppt-table">
      <thead>
        <tr>
          <th *ngFor="let item of tableData[0] let colIndex = index" 
              (contextmenu)="onRightClick($event, 0, colIndex)"
              class="vertical-header">
            <div class="rotated-text" [title]="item">{{ item }}</div>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of tableData.slice(2); let rowIndex = index">
          <td *ngFor="let key of getKeys(row); let colIndex = index"
            [ngClass]="getCellClass(getValue(row, key))"
              (contextmenu)="onRightClick($event, rowIndex, colIndex)"
              [innerHTML]="formatCell(getValue(row,key))">
          </td>
        </tr>
    </tbody>
    </table>
  </div>
</div>


  <!-- Column table -->
    <div *ngIf="showColTable" (click)="hideContextMenu()" class="table-container">
  <p>Something</p>
     <!-- 2) column table -->
     <table class="focus-table">
      <thead>
        <tr>
          <th *ngFor="let item of tableData[0] let colIndex = index" 
              (contextmenu)="onRightClickHpo($event, 0, colIndex)"
              class="vertical-header">
            <div class="rotated-text" [title]="item">{{ item }}</div>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of tableData.slice(2); let rowIndex = index">
          <td *ngFor="let key of getKeys(row); let colIndex = index"
            [ngClass]="getCellClass(getValue(row, key))"
              (contextmenu)="onRightClickHpo($event, rowIndex, colIndex)"
              [innerHTML]="formatCell(getValue(row,key))">
          </td>
        </tr>
    </tbody>
    </table>
  </div>
 

  <!-- Context Menu -->
  <div *ngIf="showContextMenu"
    [style.left.px]="contextMenuPosition.x"
    [style.top.px]="contextMenuPosition.y"
    class="absolute z-50 bg-white shadow-lg rounded border text-sm text-gray-800 p-2 space-y-1">
    <button class="w-full text-left hover:bg-gray-100 px-2 py-1 rounded">Hardcoded Item</button>
    <button *ngFor="let item of contextMenuItems"
            (click)="onMenuItemClick(item)"
            class="w-full text-left hover:bg-gray-100 px-2 py-1 rounded">
      {{ item }}
    </button>
  </div>

  <!-- HPO Context Menu -->
  <div *ngIf="showHpoContextMenu"
    [style.left.px]="contextMenuPosition.x"
    [style.top.px]="contextMenuPosition.y"
    class="absolute z-50 bg-white shadow-lg rounded border text-sm text-gray-800 p-2 space-y-1">
    <button class="w-full text-left hover:bg-gray-100 px-2 py-1 rounded">Hardcoded Item</button>
    <button *ngFor="let item of hpoContextMenuItems"
            (click)="onHpoMenuItemClick(item)"
            class="w-full text-left hover:bg-gray-100 px-2 py-1 rounded">
      {{ item }}
    </button>
  </div>
</div>
