<h2 mat-dialog-title>Enter Age of Onset</h2>

<mat-dialog-content>
  <div class="primary-box flex flex-col justify-between">
    <datalist id="hpoOptions">
      @for (term of this.ageService.onsetTerms; track term) {
        <option [value]="term"></option>
      }
    </datalist>

    <div class="flex items-center gap-4">
      <input
        id="ageInput"
        list="hpoOptions"
        [(ngModel)]="ageInput"
        placeholder="Enter Age of Onset e.g. Congenital onset or P3Y4M"
        class="border border-gray-400 rounded px-3 py-2 w-40"
      />
      <button (click)="addAge()" class="btn-outline-primary">Add</button>
    </div>

    <ul class="flex flex-wrap gap-2 mt-2 list-none p-0">
      @for (entry of entries; track entry; let i = $index) {
        <li class="flex items-center bg-gray-100 rounded px-2 py-1">
          <span>{{ entry }}</span>
          <button
            (click)="removeAge(i)"
            class="text-red-500 text-xs ml-2 hover:text-red-700"
            aria-label="Remove entry"
            title="Remove"
            style="background: none; border: none; cursor: pointer;"
          >Ã—</button>
        </li>
      }
    </ul>
  </div>
</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-button (click)="onCancel()" class="btn-outline-cancel">Cancel</button>
  <button mat-button color="primary" (click)="onSave()" class="btn-outline-primary">Save</button>
</mat-dialog-actions>
