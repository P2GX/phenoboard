<p>phetools template</p>

<p>col table {{showColTable}} main table {{showMainTable }}</p>
<div *ngIf="showColTable"><p>Inside ngIf</p></div>
<div *ngIf="errorMessage" class="error-banner">
  {{ errorMessage }}
</div>
<div *ngIf="!tableData.length">No data loaded</div>

<p *ngIf="summary['disease']">
  The dataset includes <strong>{{ summary['n_ppkt'] }}</strong> phenopackets
  annotated with <strong>{{ summary['hpo_term_count'] }}</strong> HPO terms for
  <strong>{{ summary['disease'] }}</strong> ({{ summary['disease_id'] }}) associated
  with gene <strong>{{ summary['gene_symbol'] }}</strong> (HGNC:{{ summary['hgnc_id'] }}),
  transcript <strong>{{ summary['transcript'] }}</strong>.
</p>

<div *ngIf="showMainTable" (click)="hideContextMenu()" class="table-container">
  <div class="scroll-wrapper">
    <!-- we show one of three table types main, row, and column-->
     <!-- 1) main table -->
    <table  class="ppt-table">
      <thead>
        <tr>
          <th *ngFor="let item of tableData[0] let colIndex = index" 
              (contextmenu)="onRightClick($event, 0, colIndex)"
              class="vertical-header">
            <div class="rotated-text" [title]="item">{{ item }}</div>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of tableData.slice(2); let rowIndex = index">
          <td *ngFor="let key of getKeys(row); let colIndex = index"
            [ngClass]="getCellClass(getValue(row, key))"
              (contextmenu)="onRightClick($event, rowIndex, colIndex)"
              [innerHTML]="formatCell(getValue(row,key))">
          </td>
        </tr>
    </tbody>
    </table>
  </div>
</div>
  <div *ngIf="showColTable" (click)="hideContextMenu()" class="table-container">
  <p>Something</p>
     <!-- 2) column table -->
     <table class="focus-table">
      <thead>
        <tr>
          <th *ngFor="let item of tableData[0] let colIndex = index" 
              (contextmenu)="onRightClickHpo($event, 0, colIndex)"
              class="vertical-header">
            <div class="rotated-text" [title]="item">{{ item }}</div>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of tableData.slice(2); let rowIndex = index">
          <td *ngFor="let key of getKeys(row); let colIndex = index"
            [ngClass]="getCellClass(getValue(row, key))"
              (contextmenu)="onRightClickHpo($event, rowIndex, colIndex)"
              [innerHTML]="formatCell(getValue(row,key))">
          </td>
        </tr>
    </tbody>
    </table>
  </div>
 





<!-- Context Menu -->
<div *ngIf="showContextMenu" 
    [style.left.px]="contextMenuPosition.x" 
    [style.top.px]="contextMenuPosition.y" 
    class="context-menu">
  <button>Hardcoded Item</button>
  <button *ngFor="let item of contextMenuItems" (click)="onMenuItemClick(item)">
    {{ item }}
  </button>
</div>  

<!-- Context Menu for HPO Column Table -->
<div *ngIf="showHpoContextMenu" 
    [style.left.px]="contextMenuPosition.x" 
    [style.top.px]="contextMenuPosition.y" 
    class="context-menu">
  <button>Hardcoded Item</button>
  <button *ngFor="let item of hpoContextMenuItems" (click)="onHpoMenuItemClick(item)">
    {{ item }}
  </button>
</div>  


