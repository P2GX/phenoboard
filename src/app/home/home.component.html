<div class="max-w-4xl mx-auto mt-10 p-6 bg-white shadow-lg rounded-lg space-y-6">
    <h1 class="text-3xl font-bold text-gray-800">GA4GH Phenoboard</h1>

    <p class="text-gray-600 text-base leading-relaxed">
    This application supports the biocuration of GA4GH Phenopackets.
    For each disease to be curated, users should read or create an Excel curation template file.
    Use the <strong class="font-medium text-gray-800">cohorts</strong> window to curate tabular data,
    and the <strong class="font-medium text-gray-800">mining</strong> window to perform text mining on individual cases.
    </p>

    <div class="flex flex-col space-y-4">
    <div class="flex items-center gap-3">
      <div class="relative group">
    <button
        (click)="loadHpo()"
        class="btn-outline-primary w-[300px]"
    >Load HPO
    </button>
    <!-- Tooltip -->
    <div
      class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 pointer-events-none text-center"
    >
      Select the hp.json file
    </div>
    </div>
    <span [ngClass]="{'text-red-600': hpoMessage === 'loading ...'}"
      class="text-sm text-gray-500 italic">
      {{ hpoMessage }}
      @if (status.hpoLoaded) {
        <span>({{ status.nHpoTerms }} terms)</span>
      }
    </span>
</div>

<div class="flex items-center gap-3">
  <div class="relative group">
    <button
      (click)="chooseExistingTemplateFile()"
      [disabled]="!status.hpoLoaded"
      class="btn-outline-primary w-[300px]"
    >
      {{ 'Select phetools (legacy) template file' }}
    </button>

    <!-- Tooltip -->
    <div
      class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 pointer-events-none text-center"
    >
      Select a phetools template file (enabled after HPO is loaded)
    </div>
  </div>

  <span class="text-sm text-gray-500 italic">{{ templateFileMessage }}</span>
  @if (isRunning){
    <div style="margin-top: 20px;">
      <mat-progress-bar mode="determinate" [value]="progressValue"></mat-progress-bar>
      <p>{{ progressValue }} %</p>
    </div>
  }
   <div class="ml-auto">
    <mat-checkbox [(ngModel)]="updateLabels">
      Update HPO labels
    </mat-checkbox>
  </div>
</div>

<div class="flex items-center gap-3">
  <div class="relative group">
    <button
      (click)="chooseJsonTemplateFile()"
      [disabled]="!status.hpoLoaded"
      class="btn-outline-primary w-[300px]"
    >
      {{ 'Select phetools JSON file' }}
    </button>

    <!-- Tooltip -->
    <div
      class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 pointer-events-none text-center"
    >
      Select a phetools JSON template file (enabled after HPO is loaded)
    </div>
  </div>

  <span class="text-sm text-gray-500 italic">{{ jsonTemplateFileMessage }}</span>

</div>

<div class="flex items-center gap-3">
  <div class="relative group">
    <button
        (click)="createNewPhetoolsTemplate()"
        [disabled]="!status.hpoLoaded"
        class="btn-outline-primary w-[300px]"
    >Create new template
    </button>
    <!-- Tooltip -->
    <div
      class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 pointer-events-none text-center"
    >
      Create a new phetools template file (enabled after HPO is loaded)
    </div>
    </div>
    <span class="text-sm text-gray-500 italic">{{ newTemplateMessage }}</span>
</div>

<div class="flex items-center gap-3">
  <div class="relative group">
    <button
        (click)="openExternalTemplate()"
        [disabled]="!status.hpoLoaded"
        class="btn-outline-primary w-[300px]"
    >Open external table
    </button>
    <!-- Tooltip -->
    <div
      class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 pointer-events-none text-center"
    >
      Open external excel file (e.g., Supplemental table; enabled after HPO is loaded)
    </div>
    </div>
</div>


<div class="flex items-center gap-3">
  <div class="relative group">
    <button
        (click)="setBiocuratorOrcid()"
        class="btn-outline-primary w-[300px]"
    >Set biocurator ORCID
    </button>
    <!-- Tooltip -->
    <div
      class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 bg-gray-800 text-white text-xs rounded py-1 px-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300 z-10 pointer-events-none text-center"
    >
      Set the researcher identifier (ORCID)
    </div>
    </div>
    <span class="text-sm text-gray-500 italic">{{ biocuratorOrcid }}</span>
</div>


</div>
</div>

