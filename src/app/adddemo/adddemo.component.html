@if(allDataEntered) {
  <div class="space-y-4 p-1 border rounded-md text-sm text-gray-500">
    {{ demographicSummary }} {{ demographicComment }}
     <button 
      type="button" 
      (click)="reset()" 
      class="btn-outline-cancel">
      Reset
    </button>
  </div>
} @else {
    <form [formGroup]="demoForm" (ngSubmit)="submitDemo(true)">
  <div class="space-y-4 p-4 border rounded-md">
    <div class="flex flex-wrap gap-x-4 gap-y-2">
      <!-- 1. Individual ID -->
      <div>
          <label for="individualId" class="block text-sm font-medium text-gray-700 mb-1">Individual ID</label>
          <mat-form-field appearance="outline" style="width: 100%;">
          <input matInput 
                 formControlName="individualId"
                 id="individualId"
                 placeholder="individual ID"
                 >
          <mat-hint>individual identifer as used in published source</mat-hint>
          @if (demoForm.get('individualId')?.hasError('required')) {
            <mat-error>
              individual id is required
            </mat-error>
          }
          @if (demoForm.get('individualId')?.hasError('ascii')) {
            <mat-error>Only ASCII characters are allowed</mat-error>
          }
        </mat-form-field>
        </div>
        <!-- 2. Age of Onset -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Age of Onset</label>
          <select
          formControlName="ageOfOnset" 
          id="ageOfOnset"
          class="border border-gray-400 rounded px-3 py-1.5 w-36 text-sm"
          >
            <option value="na">na</option>
            @for (term of selectedTerms; track term) {
              <option [value]="term">{{ term }}</option>
            }
          </select>
        </div>
        <!-- 3. Age at Last Exam -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Age of Last Encounter</label>
            <select
                class="border border-gray-400 rounded px-3 py-1.5 w-36 text-sm"
                formControlName="ageAtLastEncounter"
            >
                <option value="na">na</option>
                @for (term of selectedTerms; track term) {
                  <option [value]="term">{{ term }}</option>
                }
            </select>
        </div>
        <!-- 4. Sex -->
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Sex</label>
          <div class="flex flex-col gap-1">
            @for (s of sexOptions; track s) {
              <label class="inline-flex items-center text-sm">
                <input
                  type="radio"
                  [value]="s"
                  formControlName="sex"
                  class="mr-2"
                />
                {{ s }}
              </label>
            }
          </div>
        </div>
        <!-- 5. Deceased -->
        <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">Deceased</label>
            <div class="flex flex-col gap-1">
              @for (d of deceasedOptions; track d) {
                <label class="inline-flex items-center text-sm">
                  <input
                    type="radio"
                    [value]="d"
                    formControlName="deceased"
                    class="mr-2"
                  />
                  {{ d }}
                </label>
              }
            </div>
        </div>
        <!-- 6. Comment -->
        <!-- Existing button -->
        <button (click)="openCommentDialog()" class="btn-outline-primary bg-gray-100">
          Add comment
        </button>
      </div>
    </div>
    <!-- Submit / Reset -->
  <div class="mt-4 flex gap-2">
    <button 
      type="submit" 
      [disabled]="!demoForm.valid" 
      class="btn-outline-primary">
      Submit
    </button>

    <button 
      type="button" 
      (click)="reset()" 
      class="btn-outline-cancel">
      Reset
    </button>
  </div>
</form>
  
}


